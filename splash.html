<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Protogen AI - Enhanced</title>
<style>
/* COMPLETE CSS */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Arial', sans-serif; }
body { overflow:hidden; transition:0.3s; background:#0d0d0f; color:#f1f1f1; }
body.light { --bg:#f5f5f5; --text:#111; --card:#ffffffcc; --sidebar:#ffffff; --input:#eee; }
body.dark { --bg:#0d0d0f; --text:#f1f1f1; --card:#1a1a1ccc; --sidebar:#111; --input:#222; }
body { background: var(--bg); color: var(--text); transition: all 0.4s ease; }

#navbar { position:fixed; top:0; left:0; right:0; height:60px; display:flex; align-items:center; justify-content:space-between; padding:0 20px; background:linear-gradient(90deg,#ff0080,#7928ca); color:white; box-shadow:0 4px 20px #0007; z-index:300; }
#navbar .logo { font-size:24px; font-weight:bold; letter-spacing:1px; }
#navbar .menu { cursor:pointer; font-size:24px; }
#sidebar { position: fixed; top:60px; left:0; width:280px; height:calc(100vh - 60px); background: var(--sidebar); box-shadow: 4px 0 30px #0005; padding:20px; display:flex; flex-direction:column; gap:15px; transform: translateX(0); transition:0.5s ease; z-index:200; overflow-y:auto; }
#sidebar.closed { transform: translateX(-100%); }
.title { font-size:28px; font-weight:bold; background: linear-gradient(90deg,#ff00ff,#00ffff); -webkit-background-clip:text; background-clip:text; color:transparent; }
.sidebar-info p { font-size:14px; margin:5px 0; }
.button, #sendBtn, #uploadBtn, #modeToggle { padding:12px 20px; border-radius:12px; border:none; cursor:pointer; font-weight:bold; transition:0.3s; background:linear-gradient(45deg,#ff0,#f0f,#0ff,#0f0,#f00); background-size:400% 400%; color:white; animation: gradientBG 6s ease infinite; }
.button:hover, #sendBtn:hover, #uploadBtn:hover, #modeToggle:hover { transform:scale(1.05); }
@keyframes gradientBG { 0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%} }
#personalitySelect { padding:10px; border-radius:8px; background:#333; color:white; border:none; width:100%; }
#main { margin-left:280px; margin-top:60px; height:calc(100vh - 60px); display:flex; flex-direction:column; transition:0.5s ease; }
#sidebar.closed ~ #main { margin-left:0; }
#chatBox { flex:1; padding:20px; overflow-y:auto; display:flex; flex-direction:column; gap:12px; }
.msg { max-width:70%; padding:14px 18px; border-radius:20px; backdrop-filter:blur(10px); word-break:break-word; opacity:0; transform:translateY(20px); animation: fadeIn 0.5s forwards; display:flex; gap:10px; align-items:flex-start; }
.user { background: linear-gradient(120deg,#00f,#0ff); color:white; margin-left:auto; box-shadow:0 4px 12px #00f5; flex-direction:row-reverse; }
.ai { background: var(--card); border:1px solid #ffffff22; box-shadow:0 4px 12px #fff2; }
.avatar { width:40px; height:40px; border-radius:50%; background:linear-gradient(45deg,#ff0080,#00ffff); display:flex; align-items:center; justify-content:center; font-size:20px; flex-shrink:0; }
#inputArea { display:flex; padding:12px; gap:10px; background: var(--sidebar); }
#prompt { flex:1; padding:14px; border-radius:12px; border:none; outline:none; background: var(--input); color: var(--text); }
.file-preview { display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:10px; background: var(--card); border:1px solid #ffffff22; animation: fadeIn 0.5s forwards; }
.file-preview img { max-width:50px; max-height:50px; border-radius:6px; object-fit:cover; }
.file-preview button { background:red; border:none; color:white; border-radius:6px; padding:4px 8px; cursor:pointer; }
.modal { position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); display:flex; justify-content:center; align-items:center; opacity:0; pointer-events:none; transition:0.3s; z-index:400; }
.modal.show { opacity:1; pointer-events:all; }
.modal-content { background: var(--card); padding:30px 20px; border-radius:20px; text-align:center; max-width:400px; animation: fadeIn 0.5s forwards; }
.modal-content h2 { margin-bottom:15px; color: var(--text); }
.modal-content p { margin:10px 0; color: var(--text); }
.modal-content button { margin-top:20px; padding:10px 30px; background:linear-gradient(45deg,#ff0080,#7928ca); color:white; border:none; border-radius:8px; cursor:pointer; }
#chatBox::-webkit-scrollbar { width:8px; }
#chatBox::-webkit-scrollbar-thumb { background:#888; border-radius:4px; }
#chatBox::-webkit-scrollbar-track { background:#333; }
@keyframes fadeIn { to { opacity:1; transform:translateY(0); } }
.suggestions { display:flex; gap:10px; padding:10px 20px; flex-wrap:wrap; }
.suggestion-btn { background:linear-gradient(45deg,#ff0080,#7928ca); color:white; border:none; padding:8px 16px; border-radius:20px; cursor:pointer; font-size:14px; transition:0.3s; }
.suggestion-btn:hover { transform:scale(1.05); }
.typing { background: var(--card); color:#888; font-style:italic; padding:10px; border-radius:20px; max-width:70%; animation: fadeIn 0.5s forwards; }
@media(max-width:768px){ 
  #sidebar { position:absolute; top:60px; height:calc(100vh - 60px); } 
  #main { margin-left:0; }
  .msg { max-width:85%; }
}
</style>
</head>
<body class="dark">
<div id="navbar">
  <div class="logo">ü§ñ Protogen AI</div>
  <div id="menuBtn" class="menu">‚ò∞</div>
</div>

<div id="sidebar">
  <div class="title">Protogen AI</div>
  <div class="sidebar-info">
    <p><strong>Founder & CEO:</strong> Martin Lutherking Owino</p>
    <p><strong>Co-Founder:</strong> Davies Ongaki</p>
    <p><strong>Manager:</strong> Ramsey John Ng'aNga</p>
  </div>
  <button id="modeToggle" class="button">üåì Toggle Light/Dark</button>
  <select id="personalitySelect">
    <option value="lutherking">‚ú® Lutherking Mode</option>
    <option value="ramsey">üî∑ Ramsey Mode</option>
  </select>
  <button id="aboutBtn" class="button">‚ÑπÔ∏è About Us</button>
</div>

<div id="main">
  <div id="chatBox">
    <div class="msg ai">
      <div class="avatar">ü§ñ</div>
      <div>
        <strong>Welcome to Protogen AI! üöÄ</strong><br>
        I can help with: Math, Science, History, Geography, Technology, Programming, and more!<br>
        Try asking me anything or click a suggestion below!
      </div>
    </div>
  </div>
  <div class="suggestions" id="suggestions">
    <button class="suggestion-btn" onclick="askSuggestion('Solve 2x+3=7')">üìê Solve Math</button>
    <button class="suggestion-btn" onclick="askSuggestion('What is photosynthesis?')">üå± Science</button>
    <button class="suggestion-btn" onclick="askSuggestion('Capital of Kenya?')">üåç Geography</button>
    <button class="suggestion-btn" onclick="askSuggestion('Explain AI')">ü§ñ Technology</button>
    <button class="suggestion-btn" onclick="askSuggestion('What time is it?')">‚è∞ Time</button>
    <button class="suggestion-btn" onclick="askSuggestion('Help')">‚ùì Help</button>
  </div>
  <div id="inputArea">
    <input id="prompt" type="text" placeholder="Ask anything... Protogen AI answers everything..." />
    <button id="uploadBtn">üìé</button>
    <input type="file" id="fileInput" multiple accept="image/*" style="display:none" />
    <button id="sendBtn">Send</button>
  </div>
  <div id="filePreviews"></div>
</div>

<div id="aboutModal" class="modal">
  <div class="modal-content">
    <h2>About Protogen AI</h2>
    <p><strong>Founder & CEO:</strong> Martin Lutherking Owino</p>
    <p><strong>Co-Founder:</strong> Davies Ongaki</p>
    <p><strong>Manager:</strong> Ramsey John Ng'aNga</p>
    <p><strong>Company:</strong> HECO-AFRICA</p>
    <p style="margin-top:15px;">Advanced AI assistant capable of answering questions on science, math, history, technology, and more!</p>
    <button id="closeAbout">Close</button>
  </div>
</div>

<script>

// ============================================================================
// AI RESPONSE FUNCTION - ENHANCED VERSION
// ============================================================================
async function generateAIResponse(q, personality = "lutherking", files = []) {
  const qLower = q.toLowerCase();

  const tone = personality === "ramsey" 
    ? "üî∑ Ramsey Mode: " 
    : "‚ú® Lutherking Mode: ";

  // FOUNDER QUESTIONS
  if (qLower.includes("who created") || qLower.includes("who made") || qLower.includes("founder")) {
    return `${tone}Protogen AI was built by Martin Lutherking Owino (Founder & CEO), co-founded by Davies Ongaki, and managed by Ramsey John Ng'ang'a under HECO-AFRICA.`;
  }

  // ADVANCED MATH CALCULATIONS
  if (/[\d\)\(xX\+\-\*\/\=\^%]/.test(qLower)) {
    try {
      let expr = qLower
        .replace(/solve|calculate|what is|equals?/gi, "")
        .replace(/\s+/g, "")
        .replace(/x/gi, "*")
        .replace(/√∑/g, "/")
        .replace(/\^/g, "**");
      
      const answer = Function(`return (${expr})`)();
      if (!isNaN(answer)) {
        return `${tone}Math solved: ${expr.replace(/\*\*/g, "^").replace(/\*/g, "√ó")} = ${answer.toFixed(4)}`;
      }
    } catch {}
  }

  // SCIENCE TOPICS
  if (qLower.includes("photosynthesis")) {
    return `${tone}Photosynthesis is the process where plants use sunlight, water, and CO2 to produce glucose (C6H12O6) and oxygen. Formula: 6CO2 + 6H2O + light ‚Üí C6H12O6 + 6O2`;
  }
  if (qLower.includes("gravity")) {
    return `${tone}Gravity is a fundamental force attracting objects with mass. Earth's gravity is 9.8 m/s¬≤. Newton's law: F = G(m1√óm2)/r¬≤`;
  }
  if (qLower.includes("dna") || qLower.includes("genetics")) {
    return `${tone}DNA (Deoxyribonucleic Acid) is the genetic blueprint of life. It's a double helix containing genes that code for proteins.`;
  }
  if (qLower.includes("atom") || qLower.includes("molecule")) {
    return `${tone}Atoms are the smallest units of matter, containing protons, neutrons, and electrons. Molecules are atoms bonded together.`;
  }
  if (qLower.includes("evolution")) {
    return `${tone}Evolution is the process by which species change over time through natural selection, as described by Charles Darwin.`;
  }
  if (qLower.includes("cell")) {
    return `${tone}Cells are the basic units of life. Prokaryotic cells lack a nucleus, while eukaryotic cells have a membrane-bound nucleus.`;
  }

  // HISTORY
  if (qLower.includes("world war") || qLower.includes("ww1") || qLower.includes("ww2")) {
    return `${tone}World War I (1914-1918) and World War II (1939-1945) were global conflicts that reshaped the world order.`;
  }
  if (qLower.includes("independence") && qLower.includes("kenya")) {
    return `${tone}Kenya gained independence from Britain on December 12, 1963, with Jomo Kenyatta as the first Prime Minister.`;
  }
  if (qLower.includes("napoleon")) {
    return `${tone}Napoleon Bonaparte was a French military leader who became Emperor of France (1804-1814/1815) and conquered much of Europe.`;
  }

  // GEOGRAPHY
  if (qLower.includes("capital") || qLower.includes("country")) {
    if (qLower.includes("kenya")) return `${tone}Kenya's capital is Nairobi. Population: ~5 million. Major economic hub of East Africa.`;
    if (qLower.includes("france")) return `${tone}France's capital is Paris, known as the "City of Light".`;
    if (qLower.includes("japan")) return `${tone}Japan's capital is Tokyo, one of the world's largest metropolitan areas.`;
    if (qLower.includes("usa") || qLower.includes("america")) return `${tone}USA's capital is Washington D.C., located between Maryland and Virginia.`;
    if (qLower.includes("uk") || qLower.includes("england")) return `${tone}UK's capital is London, a global financial center.`;
    if (qLower.includes("germany")) return `${tone}Germany's capital is Berlin.`;
    if (qLower.includes("china")) return `${tone}China's capital is Beijing.`;
  }
  if (qLower.includes("ocean") || qLower.includes("sea")) {
    return `${tone}The five oceans are: Pacific (largest), Atlantic, Indian, Southern, and Arctic. They cover 71% of Earth's surface.`;
  }

  // TECHNOLOGY
  if (qLower.includes("ai") || qLower.includes("artificial intelligence")) {
    return `${tone}AI (Artificial Intelligence) enables machines to learn, reason, and solve problems. It includes ML, NLP, and computer vision.`;
  }
  if (qLower.includes("blockchain")) {
    return `${tone}Blockchain is a decentralized ledger technology used in cryptocurrencies like Bitcoin. It ensures transparency and security.`;
  }
  if (qLower.includes("quantum computing")) {
    return `${tone}Quantum computers use qubits instead of bits, leveraging superposition and entanglement for exponential processing power.`;
  }
  if (qLower.includes("internet")) {
    return `${tone}The Internet is a global network connecting billions of devices, enabling communication and information sharing worldwide.`;
  }

  // PROGRAMMING
  if (qLower.includes("python") || qLower.includes("code") || qLower.includes("programming")) {
    return `${tone}Python is a high-level programming language known for simplicity and versatility. Used in AI, web dev, data science, and more.`;
  }
  if (qLower.includes("javascript")) {
    return `${tone}JavaScript is a programming language that powers interactive web pages. It runs in browsers and on servers (Node.js).`;
  }

  // CURRENT EVENTS (2025)
  if (qLower.includes("trump") || qLower.includes("president")) {
    return `${tone}Donald Trump won the 2024 US Presidential election and is currently serving as president in 2025.`;
  }
  if (qLower.includes("news") || qLower.includes("latest")) {
    return `${tone}For the latest news, I recommend checking major news sources. AI, climate change, and geopolitics are major 2025 topics.`;
  }

  // MATH CONCEPTS
  if (qLower.includes("pythagorean")) {
    return `${tone}Pythagorean Theorem: a¬≤ + b¬≤ = c¬≤ (for right triangles). Used to find the hypotenuse.`;
  }
  if (qLower.includes("quadratic")) {
    return `${tone}Quadratic formula: x = [-b ¬± ‚àö(b¬≤-4ac)] / 2a. Solves equations in form ax¬≤ + bx + c = 0`;
  }
  if (qLower.includes("pi") || qLower.includes("3.14")) {
    return `${tone}Pi (œÄ) ‚âà 3.14159... It's the ratio of a circle's circumference to its diameter. Used in geometry and trigonometry.`;
  }

  // GREETINGS
  if (qLower.includes("hello") || qLower.includes("hi") || qLower.includes("hey")) {
    return `${tone}Hello! Protogen AI is fully operational. Ask me anything - science, math, history, tech, current events, and more!`;
  }
  if (qLower.includes("how are you")) {
    return `${tone}All systems optimal! Running at peak performance. Ready to assist with any question!`;
  }
  if (qLower.includes("thank")) {
    return `${tone}You're welcome! Happy to help anytime. Feel free to ask more questions!`;
  }

  // FILE HANDLING
  if (files.length > 0) {
    return `${tone}I've received ${files.length} file(s). While I can acknowledge uploads, my current capabilities are focused on text-based Q&A.`;
  }

  // TIME/DATE
  if (qLower.includes("time") || qLower.includes("date") || qLower.includes("today")) {
    const now = new Date();
    return `${tone}Current date/time: ${now.toLocaleString('en-US', { timeZone: 'Africa/Nairobi' })} (Nairobi time)`;
  }

  // HELP
  if (qLower.includes("help") || qLower.includes("what can you do")) {
    return `${tone}I can help with:\nüìê Math (calculations, formulas)\nüß™ Science (biology, chemistry, physics)\nüìö History (events, figures)\nüåç Geography (capitals, countries)\nüíª Technology (AI, programming)\n‚è∞ Current time/date\n\nJust ask anything!`;
  }

  // DEFAULT INTELLIGENT RESPONSE
  return `${tone}Interesting question about "${q}". While I have extensive knowledge, I recommend being more specific or trying: math problems, science concepts, historical events, technology topics, or general knowledge questions. I'm here to help!`;
}



// ============================================================================
// GLOBAL VARIABLES
// ============================================================================
let currentPersonality = "lutherking";
let uploadedFiles = [];



// ============================================================================
// DISPLAY MESSAGE FUNCTION
// ============================================================================
function displayMessage(sender, text) {
  const chatBox = document.getElementById("chatBox");

  const msg = document.createElement("div");
  msg.className = `msg ${sender}`;

  const avatar = document.createElement("div");
  avatar.className = "avatar";
  avatar.textContent = sender === "user" ? "üë§" : "ü§ñ";

  const bubble = document.createElement("div");
  bubble.innerHTML = text.replace(/\n/g, '<br>');

  msg.appendChild(avatar);
  msg.appendChild(bubble);

  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}



// ============================================================================
// SUGGESTION CLICK HANDLER
// ============================================================================
function askSuggestion(text) {
  document.getElementById("prompt").value = text;
  document.getElementById("sendBtn").click();
}



// ============================================================================
// SEND BUTTON - WITH TYPING INDICATOR
// ============================================================================
document.getElementById("sendBtn").addEventListener("click", async () => {
  const input = document.getElementById("prompt").value.trim();
  if (!input) return;

  displayMessage("user", input);

  // Show typing indicator
  const chatBox = document.getElementById("chatBox");
  const typing = document.createElement("div");
  typing.className = "typing";
  typing.textContent = "ü§ñ Protogen AI is thinking...";
  chatBox.appendChild(typing);
  chatBox.scrollTop = chatBox.scrollHeight;

  // Simulate thinking delay
  await new Promise(resolve => setTimeout(resolve, 800));
  typing.remove();

  const response = await generateAIResponse(input, currentPersonality, uploadedFiles);
  displayMessage("ai", response);

  document.getElementById("prompt").value = "";
  uploadedFiles = [];
  document.getElementById("filePreviews").innerHTML = "";
});

// Enter key to send
document.getElementById("prompt").addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    document.getElementById("sendBtn").click();
  }
});



// ============================================================================
// PERSONALITY CHANGE
// ============================================================================
document.getElementById("personalitySelect").addEventListener("change", (e) => {
  currentPersonality = e.target.value;
  displayMessage("ai", `Personality switched to ${e.target.value === "ramsey" ? "üî∑ Ramsey" : "‚ú® Lutherking"} mode!`);
});



// ============================================================================
// DARK/LIGHT MODE TOGGLE
// ============================================================================
document.getElementById("modeToggle").addEventListener("click", () => {
  document.body.classList.toggle("dark");
  document.body.classList.toggle("light");
  const mode = document.body.classList.contains("dark") ? "Dark" : "Light";
  displayMessage("ai", `Switched to ${mode} mode! üåì`);
});



// ============================================================================
// SIDEBAR TOGGLE
// ============================================================================
document.getElementById("menuBtn").addEventListener("click", () => {
  document.getElementById("sidebar").classList.toggle("closed");
});



// ============================================================================
// ABOUT MODAL
// ============================================================================
document.getElementById("aboutBtn").addEventListener("click", () => {
  document.getElementById("aboutModal").classList.add("show");
});

document.getElementById("closeAbout").addEventListener("click", () => {
  document.getElementById("aboutModal").classList.remove("show");
});



// ============================================================================
// FILE UPLOAD
// ============================================================================
document.getElementById("uploadBtn").addEventListener("click", () => {
  document.getElementById("fileInput").click();
});

document.getElementById("fileInput").addEventListener("change", (e) => {
  const files = [...e.target.files];
  uploadedFiles = files;

  const filePreviews = document.getElementById("filePreviews");
  filePreviews.innerHTML = "";

  files.forEach((file) => {
    const reader = new FileReader();
    reader.onload = () => {
      const box = document.createElement("div");
      box.className = "file-preview";

      const img = document.createElement("img");
      img.src = reader.result;

      const remove = document.createElement("button");
      remove.textContent = "‚úñ";
      remove.onclick = () => {
        box.remove();
      };

      box.appendChild(img);
      box.appendChild(remove);
      filePreviews.appendChild(box);
    };
    reader.readAsDataURL(file);
  });
});


</script>
</body>
</html>
